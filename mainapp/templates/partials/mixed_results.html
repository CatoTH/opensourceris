{% load i18n %}

<ul class="results-list" id="endless-scroll-target" data-total-hits="{{ total_hits }}">
    {% for result in results %}
        <li class="clearfix result">
            <a href="{% url result.type result.id %}" class="no-link-color">
                <article class="py-2 container">
                    <div class="row">
                        <div class="col-auto p-2">
                            <i class="fa fa-fw fa-3x result-icon
                            {% include "partials/type_to_fa_icon.html" with type=result.type %}" aria-hidden="true">
                            </i>
                        </div>
                        <div class="col">
                            <h2 class="text-truncate result-title">
                                <!-- There are two variants of this list:  The one on the front page and the one on
                                the search page. Only the latter may highlight the name and therefore sets name_escaped
                                -->
                                {% if result.name_escaped %}
                                    {{ result.name_escaped | safe }}
                                {% else %}
                                    {{ result.name }}
                                {% endif %}
                            </h2>
                            <div class="text-muted text-truncate">
                                <span>{% firstof result.type_translated result.paper_type.paper_type %}</span>
                                {% if result.legal_date %}
                                    <span>|</span>
                                    <span>{{ result.legal_date }}</span>
                                {% endif %}
                            </div>
                            <div class="text-muted text-truncate">{{ result.body.name }}</div>

                            {% if result.highlight %}
                                <div class="result-highlights">
                                    <p>{{ result.highlight | safe }}</p>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </article>
            </a>
        </li>
    {% endfor %}
</ul>
