{% extends 'base.html' %}

{% load i18n %}

{% block title %}{% trans "Search" context "page_title" %}{% endblock %}

{% block header %}
    {% with True as disable_header_search %}
        {{ block.super }}
    {% endwith %}
{% endblock %}

{% block content %}
    <div class="container">
        <section class="section">
            <h1>{% trans "Search" context "page_title" %}</h1>

            <form id="searchform">
                <div class="input-group search-autocomplete py-3">
                    <input name="searchterm" type="text" class="form-control" value="{{ options.searchterm }}"
                           autocomplete="off"
                           data-suggest-url="{% url 'search_autosuggest' '' %}"
                           placeholder="{% trans "Search" context "page_title" %}"
                           aria-label="{% trans "Search" context "perform search" %}">
                    <span class="input-group-btn">
                        <button class="btn btn-primary"
                                type="submit">{% trans "Search" context "perform search" %}</button>
                    </span>
                </div>

                <div class="row py-3">
                    <div class="input-field col s2">
                        <input id="lat" type="text" name="lat" value="{{ options.lat }}">
                        <label for="lat">Breitengrad</label>
                    </div>
                    <div class="input-field col s2">
                        <input id="lng" type="text" name="lng" value="{{ options.lng }}">
                        <label for="lng">LÃ¤ngengrad</label>
                    </div>
                    <div class="input-field col s2">
                        <input id="lng" type="text" name="radius" value="{{ options.radius }}">
                        <label for="radius">Enterfnung in m</label>
                    </div>
                </div>

                <div class="input-field col s2">
                    <select id="document-type" name="document-type" multiple="multiple">
                        {% for document_type in document_types %}
                            {% if document_type in options.document_type %}
                                <option value="{{ document_type }}" selected>{{ document_type }}</option>
                            {% else %}
                                <option value="{{ document_type }}">{{ document_type }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                    <label id="document-type" type="text" name="document_type">{% trans "Document Type" context "search"%}</label>
                </div>
            </form>
        </section>

        <section class="section">
            <ul class="results-list">
                {% for result in results %}
                    <li class="clearfix">
                        <a href="{% url result.type result.id %}" class="no-link-color">
                            <div class="py-2 container">
                                <div class="row">
                                    <div class="col-md-auto p-2">
                                        {% if result.type == "committee" %}
                                            <i class="fa fa-3x fa-fw fa-users" aria-hidden="true"></i>&nbsp;
                                        {% elif result.type == "department" %}
                                            <i class="fa fa-3x fa-fw fa-users" aria-hidden="true"></i>&nbsp;
                                        {% elif result.type == "parliamentary-group" %}
                                            <i class="fa fa-3x fa-fw fa-users" aria-hidden="true"></i>&nbsp;
                                        {% elif result.type == "file" %}
                                            <i class="fa fa-3x fa-fw fa-file-text" aria-hidden="true"></i>&nbsp;
                                        {% elif result.type == "meeting" %}
                                            <i class="fa fa-3x fa-fw fa-calendar" aria-hidden="true"></i>&nbsp;
                                        {% elif result.type == "paper" %}
                                            <i class="fa fa-3x fa-fw fa-file" aria-hidden="true"></i>&nbsp;
                                        {% elif result.type == "person" %}
                                            <i class="fa fa-3x fa-fw fa-user" aria-hidden="true"></i>&nbsp;
                                        {% else %}
                                            <i class="fa fa-3x fa-fw fa-question" aria-hidden="true"></i>&nbsp;
                                        {% endif %}
                                    </div>
                                    <div class="col text-truncate">
                                        <div class="lead text-truncate">{{ result.name }}</div>
                                        <div class="text-muted text-truncate">{{ result.type }}</div>
                                        <div class="text-muted text-truncate">{{ result.body.name }}</div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </li>
                {% empty %}
                    <p>{% trans "Nothing Found" %}</p>
                {% endfor %}
            </ul>
        </section>
    </div>
{% endblock %}